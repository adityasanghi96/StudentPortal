<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
	<div class="navbar-header">Student Portal</a>
	</div>
	<ul class="nav navbar-nav">
	  <li class="active"><a href="#">Home</a></li>
	  <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Information <span class="caret"></span></a>
		<ul class="dropdown-menu">
		  <li><a href="#">Page 1</a></li>
		  <li><a href="#">Page 2</a></li>
		  <li><a href="#">Page 3</a></li>
		</ul>
	  </li>
	</ul>
	<ul class="nav navbar-nav navbar-right">
	  <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
	  <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
	</ul>
  </div>
</nav>
<br>
<div class="container">
<h2 class="text-danger"  style="text-align:center; color:blue">REGISTRATION FORM</h2>
 
<div class="row">
<br>
<div class="col-sm-6">
<button type="button" class="btn btn-default" onclick="Reg()">Register</button>
<button type="button" class="btn btn-default" onclick="edit()">Edit</button>
<button type="button" class="btn btn-default" onclick="del()">Delete</button>
<form name="form1">
  <div class="form-group" style="display:none" id="bname">
    <label for="name">Name:</label>
    <input type="name" class="form-control" id="name" >
  </div>
  <div class="form-group" style="display:none" id="bemail">
    <label for="email">EMAIL:</label>
    <input type="email" class="form-control" id="email">
  </div>
  <div class="form-group" style="display:none" id="brollno">
    <label for="rollno">Roll NO:</label>
    <input type="text" class="form-control" id="rollno">
  </div>
  <button type="button" class="btn btn-default" onclick="abc()" style="display:none" id="sub">Submit</button>
  <button type="button" class="btn btn-default" onclick="edits()" style="display:none" id="ed">Edit</button>
  <button type="button" class="btn btn-default" onclick="editsub()" style="display:none" id="esub">Edit</button>
  <button type="button" class="btn btn-default" onclick="delstu()" style="display:none" id="edel">Delete</button>
  <button type="button" class="btn btn-default" onclick="res()" style="display:none" id="res">Reset</button>
</form>
</div>
</div>

<br>
<h4 class="text-danger" style="text-align:center; color:blue">DATABASE</h4>
<table class="table table-hover" id="table">
<thead>
<th>ROLLNO:</th>
<th>NAME:</th>
<th>EMAIL:</th>
<tbody id="tbody">
</tbody>
</table>
</div>
<script>
function res()
{
document.getElementById("name").innerHTML="";
document.getElementById("email").innerHTML="";
document.getElementById("rollno").innerHTML="";
}
function edits()
{
var a=document.getElementsByTagName("tr");
var i=1;
while(i<a.length)
{
	var row=a[i].firstChild.innerHTML;
	if(row==document.getElementById("rollno").value)
	{
		a[i].childNodes[1].innerHTML=document.getElementById("name").value;
		a[i].childNodes[2].innerHTML=document.getElementById("email").value;
	}
	i++;
}

var frm = document.getElementsByName('form1')[0];
frm.reset();
}

function editsub()
{
var array=document.getElementsByTagName("tr");
var flag=1;	
var i=1;

while(i<array.length)
{
	
	var row=array[i].firstChild.innerHTML;	
	if(row==document.getElementById("rollno").value)
	{flag=0;}
	i++;
}
if(flag==1)
{
window.alert("Record doesnt exist");
}
else
{
document.getElementById("bname").style.display="block";
document.getElementById("bemail").style.display="block";
document.getElementById("brollno").style.display="none";
document.getElementById("ed").style.display="inline";
document.getElementById("sub").style.display="none";
document.getElementById("res").style.display="inline";
document.getElementById("esub").style.display="none";
document.getElementById("edel").style.display="none";
}

}
function delstu()
{
var a=document.getElementsByTagName("tr");
var table=document.getElementById("table");
var i=1;
while(i<a.length)
{
	var row=a[i].firstChild.innerHTML;
	if(row==document.getElementById("rollno").value)
	{
		table.deleteRow(i);
	}
	i++;
}
}

function del()
{
document.getElementById("bname").style.display="none";
document.getElementById("bemail").style.display="none";
document.getElementById("brollno").style.display="block";
document.getElementById("esub").style.display="none";
document.getElementById("edel").style.display="block";
document.getElementById("sub").style.display="none";
document.getElementById("res").style.display="none";
document.getElementById("ed").style.display="none";

}
function Reg()
{
document.getElementById("bname").style.display="block";
document.getElementById("bemail").style.display="block";
document.getElementById("brollno").style.display="block";
document.getElementById("sub").style.display="inline";
document.getElementById("res").style.display="inline";
document.getElementById("esub").style.display="none";
document.getElementById("edel").style.display="none";
document.getElementById("ed").style.display="none";
}
function edit()
{
document.getElementById("bname").style.display="none";
document.getElementById("bemail").style.display="none";
document.getElementById("brollno").style.display="block";
document.getElementById("esub").style.display="block";
document.getElementById("edel").style.display="none";
document.getElementById("sub").style.display="none";
document.getElementById("res").style.display="none";
document.getElementById("ed").style.display="none";
}
function abc()
{
var name=document.getElementById("name").value;
var email=document.getElementById("email").value;
var rollno=document.getElementById("rollno").value;
var pttrn1=/[a-z A-Z]+\s[a-z A-Z]+/;
var pttrn2=/[a-z A-Z]+\.[a-z A-Z]+[@gmail.com]/;
var pttrn3=/^[0-9]{10}$/;
if(name == "")
	{
	window.alert("NAME CANNOT BE NULL");
	}
	
else if(email == "")
	{
	window.alert("EMAIL CANNOT BE NULL");
	}
else if(rollno == "")
	{
	window.alert("ROLLNO CANNOT BE NULL");
	}
else if(!pttrn1.test(name))
	{
	window.alert("ENTER NAME IN CORRECT FORMAT");
	}
else if(!pttrn2.test(email))
	{
	window.alert("ENTER EMAIL IN CORRECT FORMAT");
	}
else if(!pttrn3.test(rollno))
	{
	window.alert("ENTER ROLL NO IN CORRECT FORMAT");
	}
else{
var array=document.getElementsByTagName("tr");
var flag=1;	
var i=1;

while(i<array.length)
{
	
	var row=array[i].firstChild.innerHTML;	
	if(row==document.getElementById("rollno").value)
	{flag=0;}
	i++;
}

if(flag == 0)
{
	window.alert("RECORD ALREADY EXISTS");
}
else{
var a=document.createElement("tr");
var b=document.createElement("td");
var c=document.createTextNode(rollno);
b.appendChild(c);
a.appendChild(b);
var e=document.createElement("td");
var f=document.createTextNode(name);
e.appendChild(f);
a.appendChild(e);
var m=document.createElement("td");
var n=document.createTextNode(email);
m.appendChild(n);
a.appendChild(m);

var  z=document.getElementById("tbody");
z.appendChild(a);

var frm = document.getElementsByName('form1')[0];
frm.reset();
}
}
}

</script>
</body>
</html>
